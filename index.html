<html>
  <body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.7.0/d3.min.js"></script>

  
<script type="text/javascript">


d3.csv("https://docs.google.com/spreadsheets/d/e/2PACX-1vT8O3Mk62YHM5jY3WF_5Bfc_L-_lWkbDINATSzr3uvF8WehERLMSshRNw32GB-9e-lM72EB0HeiWsiM/pub?gid=412777815&single=true&output=csv").then((data) =>{
var config = {
  "avatar_size": 50 //circle radius
}

let body = d3.select("body");

let svg = body.append("svg")
  .attr("width", 500)
  .attr("height", 500);

let defs = svg.append('svg:defs');




data.forEach((d, i) => {
  defs.append("svg:pattern")
    .attr("id", "avatar" + i)
    .attr("width", config.avatar_size*d.Radius)
    .attr("height", config.avatar_size*d.Radius)
    .attr("patternUnits", "userSpaceOnUse")
    .append("svg:image")
    .attr("xlink:href", d.img)
    .attr("width", config.avatar_size)
    .attr("height", config.avatar_size)
    .attr("x", 0)
    .attr("y", 0);

  let circle = svg.append("circle")
    .attr("transform", "translate(" + (250+d.X*10) + "," + (250-d.Y*10) + ")")
    .attr("cx", config.avatar_size / 2)
    .attr("cy", config.avatar_size / 2 - 2*d.Radius)
    .attr("r", config.avatar_size / (-d.Radius+6))
    .style("fill", "#fff")
    .style("fill", "url(#avatar" + i + ")");

})})

</script>
</body>
</html>